
- there is a single command for deploy
  - script/deploy
- deploy should install the servlet:
  - TBD
- should copy the class file:
  - vagrant ssh -c 'ls /var/lib/tomcat7/webapps/ROOT/WEB-INF/classes/HelloWorld.class'
- we should be able to compile the servlet:
  - javac -cp lib/servlet-api.jar example/HelloWorld.java
- we should have a tomcat version:
  - ls downloads/apache-tomcat-7.0.68.tar.gz

Regole:

  - sviluppiamo una feature alla volta
  - per lo sviluppo dello script di deploy usiamo le tecniche di sviluppo tipiche del TDD
  - c'è un elenco di features che chiamiamo TODO list
  - la TODO list parte con pochi (o anche un punto) che è l'acceptance test finale
  - l'obiettivo è creare uno script di deploy in grado di deployare una stupida servlet
  - (requisiti extra) la servlet per funzionare richiede MySQL
  - (requisiti extra) la servlet che richiede il Sun di Oracle
  - (requisiti extra) per testare la servlet bisogna fare una fixture sul database
  - (requisiti extra) la configurazione di connessione al database cambia dall'ambiente di produzione a quello di produzione

Notes:

  - tomcat has been downloaded from here:  
    - wget http://it.apache.contactlab.it/tomcat/tomcat-7/v7.0.68/bin/apache-tomcat-7.0.68.tar.gz
  - tomcat directories:
    - /etc/default/tomcat7 (file di configurazione)
    - /usr/share/tomcat7-admin/manager (applicazione manager)
    - /usr/share/tomcat7/lib (librerie tomcat)
    - /usr/lib/jvm/java-8-oracle
    - /var/lib/tomcat7/webapps

  
- deploy della servlet:
  cp /vagrant/.../HelloWorld.class /var/lib/tomcat7/webapps/ROOT
- data dir:
  - vagrant ssh -c "ls /vagrant"
- don't update all the times

- deployare tomcat
- deployare la servlet
- tutorial http://www.tutorialspoint.com/servlets/servlets-first-example.htm





mkdir -p /var/lib/tomcat7/webapps/ROOT/WEB-INF/web.xml
cat >/var/lib/tomcat7/webapps/ROOT/WEB-INF/web.xml << \'
<servlet>
   <servlet-name>HelloWorld</servlet-name>
   <servlet-class>HelloWorld</servlet-class>
</servlet>

<servlet-mapping>
   <servlet-name>HelloWorld</servlet-name>
   <url-pattern>/HelloWorld</url-pattern>
</servlet-mapping>
'
